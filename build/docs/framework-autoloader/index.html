<!doctype html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width">
<meta name="generator" content="Docusaurus">


<title data-react-helmet="true">Autoloader</title>

<meta data-react-helmet="true" http-equiv="x-ua-compatible" content="ie=edge"><meta data-react-helmet="true" property="og:title" content="SciWP · A MVC framework to create plugins for WordPress"><meta data-react-helmet="true" name="twitter:card" content="summary"><meta data-react-helmet="true" name="description" content="The Autoloader is responsible for including the referenced classes. This component is used by both the plugins created with the framework and the framework itself, also allowing the use of **namespaces**, which should be a must when building plugins for any application."><meta data-react-helmet="true" property="og:description" content="The Autoloader is responsible for including the referenced classes. This component is used by both the plugins created with the framework and the framework itself, also allowing the use of **namespaces**, which should be a must when building plugins for any application."><meta data-react-helmet="true" property="og:url" content="https://sciwp.com/docs/framework-autoloader">

<link data-react-helmet="true" rel="shortcut icon" href="/img/favicon.ico">


<link rel="stylesheet" href="/styles.9facfd69.css">

</head>
<body>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}function e(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}var n=window.matchMedia("(prefers-color-scheme: dark)");n.addListener((function(n){null===e()&&t(n.matches?"dark":"")}));var a=e();null!==a?t(a):n.matches&&t("dark")}()</script>
<div id="__docusaurus">
<nav class="navbar navbar--light navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><div aria-label="Navigation bar toggle" class="navbar__toggle" role="button" tabindex="0"><svg xmlns="http://www.w3.org/2000/svg" width="30" height="30" viewBox="0 0 30 30" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></div><a aria-current="page" class="navbar__brand active" href="/"><img class="navbar__logo" src="/img/logo.svg" alt="SCIWP Logo"><strong>SCIWP</strong></a><a class="navbar__item navbar__link" href="/docs/framework-install">Framework Documentation</a></div><div class="navbar__items navbar__items--right"><a class="navbar__item navbar__link" target="_blank" rel="noopener noreferrer" href="https://github.com/sciwp/">GitHub</a><div class="react-toggle react-toggle--disabled displayOnlyInLargeViewport_1gtM"><div class="react-toggle-track"><div class="react-toggle-track-check"><span class="toggle_keGJ moon_1gwN"></span></div><div class="react-toggle-track-x"><span class="toggle_keGJ sun_3CPA"></span></div></div><div class="react-toggle-thumb"></div><input type="checkbox" disabled="" aria-label="Dark mode toggle" class="react-toggle-screenreader-only"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div><div class="navbar-sidebar"><div class="navbar-sidebar__brand"><a aria-current="page" class="navbar__brand active" href="/"><img class="navbar__logo" src="/img/logo.svg" alt="SCIWP Logo"><strong>SCIWP</strong></a></div><div class="navbar-sidebar__items"><div class="menu"><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="/docs/framework-install">Framework Documentation</a></li><li class="menu__list-item"><a class="menu__link" target="_blank" rel="noopener noreferrer" href="https://github.com/sciwp/">GitHub</a></li></ul></div></div></div></nav><div class="main-wrapper"><div class="docPage_1kjD"><div class="docSidebarContainer_1cYp"><div class="sidebar_1kLs"><div class="menu menu--responsive"><button aria-label="Open Menu" class="button button--secondary button--sm menu__button" type="button"><svg class="sidebarMenuIcon_2vk4" xmlns="http://www.w3.org/2000/svg" height="24" width="24" viewBox="0 0 32 32" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><ul class="menu__list"><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Introduction</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="/docs/framework-prologue">Prologue</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/framework-contribution">Contribution</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Getting Started</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="/docs/framework-install">Installation</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/framework-configuration">Configuration</a></li></ul></li><li class="menu__list-item"><a class="menu__link menu__link--sublist menu__link--active" href="#!">Architecture</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="/docs/framework-basics">Basics</a></li><li class="menu__list-item"><a aria-current="page" class="menu__link menu__link--active" href="/docs/framework-autoloader">Autoloader</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/framework-dependencies">Dependencies</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Components</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="/docs/framework-plugin-manager">Plugins</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/framework-route-manager">Routes</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/framework-rest-manager">Rest Routes</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/framework-provider-manager">Providers</a></li></ul></li></ul></div></div></div><main class="docMainContainer_FFX1"><div class="padding-vert--lg"><div class="container"><div class="row"><div class="col"><div class="docItemContainer_2cwg"><article><header><h1 class="docTitle_1vWb">Autoloader</h1></header><div class="markdown"><p>The Autoloader is responsible for including the referenced classes. This component is used by both the plugins created with the framework and the framework itself, also allowing the use of <strong>namespaces</strong>, which should be a must when building plugins for any application.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor" id="the-autoloader"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#the-autoloader" title="Direct link to heading">#</a>The Autoloader</h2><p>By using the autoloader, only the referenced class files are loaded into the PHP scripts, improving the performance, reducing the server load and allowing developers to code in a more dynamic way.</p><p>When you add a plugin to SCIWP, the framework will search in the <strong><em>config.php</em></strong> file or in the main plugin file for the plugin namespace. If it&#x27;s not found, the plugin namespace will default to the lowecased version of the plugin directory name, with the first letter capitalized. All references to classes starting by plugin namespace will be processed by the Autoloader.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor" id="plugin-namespaces"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#plugin-namespaces" title="Direct link to heading">#</a>Plugin Namespaces</h2><p>Plugins using SCIWP must use a root namespace. Child namespaces should usually represent the directory structure class files are located.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor" id="root-namespace"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#root-namespace" title="Direct link to heading">#</a>Root Namespace</h3><p>The use of a root namespace for each plugin is mandatory, preventing class name collisions.</p><p>The autoloader will obtain the plugin namespace based on these priorities:</p><ol><li>SCIWP will search first for the <strong>namespace</strong> option inside the <code>myplugin/config.php</code>.</li><li>If not found, then it will search for the namespace used by the <code>myplugin/main.php</code> file.</li><li>If no namespace was found, the namespace will default to the plugin folder name.</li></ol><p>Don&#x27;t worry about the SCIWP files when you update the namespace. The framework will replace the namespace name in the framework files for you if the <strong>rebuild</strong> option is enabled, so feel free to change it at any time. When  updating the plugin namespace, you can also set the option <strong>rebuild_code</strong> to true if you want the framework to also replace the root plugin namespace in your code. Although this works most of the times, you might still need to update some parts of the code referencing to the old namespace manually.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor" id="namespace-structure"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#namespace-structure" title="Direct link to heading">#</a>Namespace Structure</h3><p>To better organize the code, the plugin code must be placed in the main plugin folder, which is <code>myplugin/app</code> by default. It&#x27;s also possible to organize the code in modules by using the plugin modules folder, which is <code>myplugin/modules</code> by default.</p><p>SCIWP will not search for files in other folder unless you manually configure the routes to the files or folders matching the namespaces defined in the <code>myplugin/config.php</code> file, under the <strong>autoloader =&gt; autoload</strong> array.</p><h4><a aria-hidden="true" tabindex="-1" class="anchor" id="directory-structure-convention"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#directory-structure-convention" title="Direct link to heading">#</a>Directory Structure Convention</h4><p>For the autoloader to work properly, the folder structure should match the namespace structure, as in many other frameworks.</p><p>For example, the class <code>MyPlugin\App\Models\House</code> will match the file <code>myplugin/app/Models/House.php</code>.</p><p>Namespaces are case sensitives, so please note that the namespace <strong><em>App</em></strong> will only match the directory <strong><em>app</em></strong> if the <strong>main_namespace</strong> option is set to <strong><em>App</em></strong>. Otherwise the namespace <strong><em>App</em></strong> would match the namespace <strong><em>App</em></strong>.</p><p>In case the class is into a module in the modules folder, the autoloader will also search for it. For example, the class <code>MyPlugin\MyModule\Models\House</code> should match the file <code>myplugin/modules/MyModule/Models/House.php</code>. As you can see, the <strong>modules</strong> folder is skipped from the namespace.</p><h4><a aria-hidden="true" tabindex="-1" class="anchor" id="file-structure-convention"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#file-structure-convention" title="Direct link to heading">#</a>File Structure Convention</h4><p>A class name must always match the file name. So for example, the file name for the class <strong>*<em>House</em></strong> should be <strong><em>House.php</em></strong>. However, the extension <strong><em>.class.php</em></strong> will also be allowed and it can be even required if you use reflexive autoloading.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor" id="reflexive-autoloading"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#reflexive-autoloading" title="Direct link to heading">#</a>Reflexive Autoloading</h3><p>This is a unique feature of this framework which allows you to place any class file into any folder by just defining the class name and the full namespace structure in the file class name.</p><p>For example, the file <code>House.Models.App.class.php</code> will match the class <strong>MyPlugin\App\Models\House</strong> and can be placed into any folder. The framework will search for the file in all folders until it is found, but just in the first run, as the folder will be saved in the autoloading cache if the cache is enabled.</p><p>In the same way, the file <code>House.Models.MyModule.class.php</code> will match the class <strong>MyPlugin\MyModule\Models\House</strong> and can be placed into any folder.</p><p>To enable the reflexive autoloading you need to set to <strong><em>true</em></strong> the <strong>reflexive</strong> option, inside the <strong>autoloader</strong> section of the config file. Set it to false to disable it.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor" id="autoloader-caching"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#autoloader-caching" title="Direct link to heading">#</a>Autoloader Caching</h2><p>The autoloader cache will keep a record and store of all the classes and the files matching those classes. This is very useful when loading files in a reflexive way, as it dramatically reduces loading times. To clear the autoloading cache, you can set the <strong>rebuild</strong> option to <strong><em>true</em></strong> in the <code>myplugin/config.php</code> file or just delete the <code>myplugin/cache/autoload.cache.php</code> file.</p><p>To enable the audoloader caching, you need to set the option <strong>cache</strong> in the <strong>autoloader</strong> section of the config file to true. It&#x27;s recommended to keep this option enabled for a better performance if the reflexive autoloading is also enabled.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor" id="manual-configuration"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#manual-configuration" title="Direct link to heading">#</a>Manual Configuration</h2><p>It&#x27;s also possible to define autoloading routes in the config file as pairs of class names or namespace structures and directories. You can set routes for specific files or for all the files matching a namespace, useful when you want to add third party libraries. See below how to do it.</p><p>You can configure autoloading routes manually by using the <strong>autoload</strong> array in the <strong>autoloader</strong> section of the <code>plugin/config.php</code> file. You map both individual classes to files or namespaces to directories. Classes and namespaces should be always <strong>absolute</strong>, and files and directories should be always <strong>relative</strong> to the plugin directory.</p><ul><li><p>If you want to map a class to a file, the array element should be formatted as <strong><em>Full\Class\Name =&gt; relative/path/to/class</em></strong>.</p></li><li><p>If you want to map a namespace to a directory, the array element should be formatted as <strong><em>Full\Namespace\Route =&gt; relative/path</em></strong>.</p></li></ul><p>Here is an example of each case:</p><pre class="mdxCodeBlock_iHAB"><div class="codeBlockWrapper_2QGZ"><pre class="prism-code language-php codeBlock_19pQ" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">autoload </span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token single-quoted-string string" style="color:rgb(195, 232, 141)">&#x27;Manual\Test&#x27;</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token operator" style="color:rgb(137, 221, 255)">&gt;</span><span class="token plain"> </span><span class="token single-quoted-string string" style="color:rgb(195, 232, 141)">&#x27;app/Example/Test&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token single-quoted-string string" style="color:rgb(195, 232, 141)">&#x27;ThirdParty\Library&#x27;</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token operator" style="color:rgb(137, 221, 255)">&gt;</span><span class="token plain"> </span><span class="token single-quoted-string string" style="color:rgb(195, 232, 141)">&#x27;Libraries/CustomLibrary&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span></div></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_1BYj">Copy</button></div></pre><p>In the example above, the class <strong><em>Manual\Test</em></strong> matches a class and the autoloader will search for it in the <code>myplugin/app/Example/Test.php</code> file. The namespace of the file should be <strong><em>Manual\Test</em></strong>, as it is what you are searching for.</p><p>In the next example, the namespace <strong><em>ThirdParty\Library</em></strong> matches a namespace and the framework will search for all classes matching this namespace in the <code>myplugin/Libraries/CustomLibrary</code> directory, overwriting the default directory structure configuration.</p><p>You can specify <strong>any folder</strong> in the plugin, so in this case you are not limited to the main or the modules folder.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor" id="autoloader-configuration"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#autoloader-configuration" title="Direct link to heading">#</a>Autoloader Configuration</h2><p>You can configure the autoloader using the <strong>autoloader</strong> section of the configuration array in the <code>plugin/config.php</code> file.</p></div></article><div class="margin-vert--xl"><div class="row"><div class="col"><a href="https://github.com/facebook/docusaurus/edit/master/website/docs/autoloader.md" target="_blank" rel="noreferrer noopener"><svg fill="currentColor" height="1.2em" width="1.2em" preserveAspectRatio="xMidYMid meet" viewBox="0 0 40 40" style="margin-right:0.3em;vertical-align:sub"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div></div></div><div class="margin-vert--lg"><nav class="pagination-nav"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/docs/framework-basics"><h5 class="pagination-nav__link--sublabel">Previous</h5><h4 class="pagination-nav__link--label">« Basics</h4></a></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/docs/framework-dependencies"><h5 class="pagination-nav__link--sublabel">Next</h5><h4 class="pagination-nav__link--label">Dependencies »</h4></a></div></nav></div></div></div><div class="col col--3"><div class="tableOfContents_TbNY"><ul class="contents contents__left-border"><li><a href="#the-autoloader" class="contents__link">The Autoloader</a></li><li><a href="#plugin-namespaces" class="contents__link">Plugin Namespaces</a><ul><li><a href="#root-namespace" class="contents__link">Root Namespace</a></li><li><a href="#namespace-structure" class="contents__link">Namespace Structure</a></li><li><a href="#reflexive-autoloading" class="contents__link">Reflexive Autoloading</a></li></ul></li><li><a href="#autoloader-caching" class="contents__link">Autoloader Caching</a></li><li><a href="#manual-configuration" class="contents__link">Manual Configuration</a></li><li><a href="#autoloader-configuration" class="contents__link">Autoloader Configuration</a></li></ul></div></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container"><div class="row footer__links"><div class="col footer__col"><h4 class="footer__title">Docs</h4><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" href="/docs/framework-prologue">Framework</a></li></ul></div><div class="col footer__col"><h4 class="footer__title">Community</h4><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" target="_blank" rel="noopener noreferrer" href="https://discord.gg/dKjBhJ">Discord</a></li></ul></div><div class="col footer__col"><h4 class="footer__title">Social</h4><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" target="_blank" rel="noopener noreferrer" href="https://github.com/sciwp">GitHub</a></li></ul></div></div><div class="text--center">Built by Eduardo Lázaro Rodríguez with Docusaurus</div></div></footer>
</div>

<script src="/styles.f48989c6.js"></script>

<script src="/runtime~main.dee6cc32.js"></script>

<script src="/main.e3ebaac4.js"></script>

<script src="/1.f876e73f.js"></script>

<script src="/2.626b0ccc.js"></script>

<script src="/1be78505.4fa35fb1.js"></script>

<script src="/20ac7829.5218217f.js"></script>

<script src="/17896441.fda4d659.js"></script>

<script src="/5e9b48ae.9eb194a3.js"></script>


</body>
</html>